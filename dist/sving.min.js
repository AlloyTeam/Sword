!function(){"use strict";function t(t,e,r,i,s,n){this.setValues(t,e,r,i,s,n)}t.DEG_TO_RAD=Math.PI/180,t.identity=null,t.prototype={setValues:function(t,e,r,i,s,n){return this.a=null==t?1:t,this.b=e||0,this.c=r||0,this.d=null==i?1:i,this.tx=s||0,this.ty=n||0,this},append:function(t,e,r,i,s,n){var o=this.a,h=this.b,a=this.c,p=this.d;return 1==t&&0==e&&0==r&&1==i||(this.a=o*t+a*e,this.b=h*t+p*e,this.c=o*r+a*i,this.d=h*r+p*i),this.tx=o*s+a*n+this.tx,this.ty=h*s+p*n+this.ty,this},appendTransform:function(e,r,i,s,n,o,h,a,p){if(n%360)var c=n*t.DEG_TO_RAD,u=Math.cos(c),l=Math.sin(c);else u=1,l=0;return o||h?(o*=t.DEG_TO_RAD,h*=t.DEG_TO_RAD,this.append(Math.cos(h),Math.sin(h),-Math.sin(o),Math.cos(o),e,r),this.append(u*i,l*i,-l*s,u*s,0,0)):this.append(u*i,l*i,-l*s,u*s,e,r),(a||p)&&(this.tx-=a*this.a+p*this.c,this.ty-=a*this.b+p*this.d),this},identity:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},copy:function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},clone:function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},toString:function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"}},t.identity=new t;var e=function t(e,r,i){var s=function(e,r,i){e.$observer||(e.$observer=this);var s=e.$observer,n=[];t.isArray(e)&&(0===e.length&&(e.$observeProps={},e.$observeProps.$observerPath="#"),s.mock(e));for(var o in e)e.hasOwnProperty(o)&&(i?t.isArray(r)&&t.isInArray(r,o)?(n.push(o),s.watch(e,o)):t.isString(r)&&o==r&&(n.push(o),s.watch(e,o)):(n.push(o),s.watch(e,o)));s.target=e,s.propertyChangedHandler||(s.propertyChangedHandler=[]),s.propertyChangedHandler.push({all:!i,propChanged:i||r,eventPropArr:n})};return s.prototype={onPropertyChanged:function(e,r,i,s,n){if(r!==i&&this.propertyChangedHandler)for(var o=t.e(e,n),h=0,a=this.propertyChangedHandler.length;h<a;h++){var p=this.propertyChangedHandler[h];(p.all||t.isInArray(p.eventPropArr,o)||0===o.indexOf("Array-"))&&p.propChanged.call(this.target,e,r,i,n)}0!==e.indexOf("Array-")&&"object"==typeof r&&this.watch(s,e,s.$observeProps.$observerPath)},mock:function(e){var r=this;t.methods.forEach(function(i){e[i]=function(){var e=Array.prototype.slice.call(this,0),s=Array.prototype[i].apply(this,Array.prototype.slice.call(arguments));if(RegExp("\\b"+i+"\\b").test(t.triggerStr)){for(var n in this)this.hasOwnProperty(n)&&!t.isFunction(this[n])&&r.watch(this,n,this.$observeProps.$observerPath);r.onPropertyChanged("Array-"+i,this,e,this,this.$observeProps.$observerPath)}return s}})},watch:function(e,r,i){if("$observeProps"!==r&&"$observer"!==r&&!t.isFunction(e[r])){e.$observeProps||(e.$observeProps={}),e.$observeProps.$observerPath=void 0!==i?i:"#";var s=this,n=e.$observeProps[r]=e[r];if(Object.defineProperty(e,r,{get:function(){return this.$observeProps[r]},set:function(t){var i=this.$observeProps[r];this.$observeProps[r]=t,s.onPropertyChanged(r,t,i,this,e.$observeProps.$observerPath)}}),"object"==typeof n){t.isArray(n)&&(this.mock(n),0===n.length&&(n.$observeProps||(n.$observeProps={}),n.$observeProps.$observerPath=void 0!==i?i:"#"));for(var o in n)n.hasOwnProperty(o)&&this.watch(n,o,e.$observeProps.$observerPath+"-"+r)}}}},new s(e,r,i)};e.methods=["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","unshift","toLocaleString","toString","size"],e.triggerStr="concat,pop,push,reverse,shift,sort,splice,unshift,size",e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.isString=function(t){return"string"==typeof t},e.isInArray=function(t,e){for(var r=t.length;--r>-1;)if(e===t[r])return!0;return!1},e.isFunction=function(t){return"[object Function]"==Object.prototype.toString.call(t)},e.twoWay=function(t,r,i,s){"object"==typeof t[r]&&"object"==typeof i[s]?(e(t,r,function(){i[s]=this[r]}),e(i,s,function(){t[r]=this[s]})):(e(t,r,function(t,e){i[s]=e}),e(i,s,function(e,i){t[r]=i}))},e.e=function(t,e){return"#"===e?t:e.split("-")[1]},e.add=function(t,e,r){t[e]=r,t.$observer.watch(t,e)},Array.prototype.size=function(t){this.length=t};var r="http://www.w3.org/2000/svg",i=function i(s,n){if(n){"string"==typeof s&&(s=i(s));for(var o in n)n.hasOwnProperty(o)&&("xlink:"==o.substring(0,6)?s.setAttributeNS("http://www.w3.org/1999/xlink",o.substring(6),n[o]+""):s.setAttribute(o,n[o]+""))}else s=document.createElementNS("http://www.w3.org/2000/svg",s),s.style&&(s.style.webkitTapHighlightColor="rgba(0,0,0,0)"),s.opacity=s.scaleX=s.scaleY=1,s.left=s.top=s.rotation=s.skewX=s.skewY=s.originX=s.originY=0,s.matrix=t.identity,e(s,["left","top","scaleX","scaleY","rotation","skewX","skewY","originX","originY"],function(){this.matrix.identity().appendTransform(this.left,this.top,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.originX,this.originY),i(s,{transform:"matrix("+this.matrix.a+","+this.matrix.b+","+this.matrix.c+","+this.matrix.d+","+this.matrix.tx+","+this.matrix.ty+")"})}),e(s,["opacity"],function(){s.setAttribute("opacity",this.opacity)}),s.attr=function(t,e){if(1===arguments.length)return"string"==typeof t?-1!==t.indexOf(":")?this.getAttributeNS(r,t):this.getAttribute(t):i(this,t);var s={};return s[t]=e,i(this,s)};return s},s=function(t,e,i){this.parent="string"==typeof t?document.querySelector(t):t,this.svg=document.createElementNS(r,"svg"),this.svg.setAttribute("style","border: 1px solid blackoverflow: hidden"),this.svg.setAttribute("width",e),this.svg.setAttribute("height",i),this.svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.parent.appendChild(this.svg)};s.prototype={line:function(t,e,r,s){var n=i("line",{x1:t,y1:e,x2:r,y2:s});return this.svg.appendChild(n),n},rect:function(t,e){var r=i("rect",{width:t,height:e});return this.svg.appendChild(r),r},text:function(t,e){var r=i("text");return r.style.font=e,r.textContent=t,this.svg.appendChild(r),r},circle:function(t){var e=i("circle",{r:t});return this.svg.appendChild(e),e},path:function(t){var e=i("path",{d:t});return e.to=s.pathTo,this.svg.appendChild(e),e},ellipse:function(t,e){var r=i("ellipse",{rx:t,ry:e});return this.svg.appendChild(r),r},image:function(t){if("string"==typeof t){var e=i("image",{"xlink:href":t}),r=new Image;r.onload=function(){e.attr({width:r.width,height:r.height}),r=null},r.src=t}else var e=i("image",{"xlink:href":t,width:t.width,height:t.height});return this.svg.appendChild(e),e},group:function(){var t=i("g");this.svg.appendChild(t);for(var e=0,r=arguments.length;e<r;e++)t.appendChild(arguments[e]);return t.add=function(e){t.appendChild(e)},t.remove=function(e){t.removeChild(e)},t},remove:function(t){this.svg.removeChild(t)}};var n=function(t,e,r){return new s(t,e,r)};window.Sving=n,"undefined"!=typeof module?module.exports=n:self.sving=n}();
//# sourceMappingURL=sving.min.js.map